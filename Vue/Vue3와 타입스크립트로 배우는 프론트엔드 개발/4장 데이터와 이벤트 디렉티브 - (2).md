#### 4.2 이벤트 디렉티브

##### 1) 이벤트 리스너를 설정하는 디렉티프 v-on (약어 @)

```md
	v-on:이벤트명="이벤트 발생 시 실행하는 메서드명"
	@:이벤트명="이벤트 발생 시 실행하는 메서드명"

```


```vue
<template>
  <section>
    <button v-on:click="onButtonClick">클릭!</button>
    <p>클릭 결과: {{ randValue }}</p>
  </section>
</template>

<script setup lang="ts">
import { ref, computed } from 'vue'

const randValue = ref('시작 전')
const onButtonClick = (): void => {
  const rand = Math.round(Math.random() * 10)
  randValue.value = String(rand)
}
</script>

<style scoped></style>

```


| 분류  | 이벤트명              | 이벤트 발생 시점                      |
| --- | ----------------- | ------------------------------ |
| 포커스 | blue              | 포커스를 잃었을 때                     |
|     | focus             | 포커스를 받았을 때                     |
|     | focusin           | 포커스를 받았을 때(부모 요소에서도 이벤트 감지 가능) |
|     | focusout          | 포커스를 잃었을 때(부모 요소에서도 이벤트 감지 가능) |
|     |                   |                                |
| 마우스 | click             | 클릭했을 때                         |
|     | contextMenu       | 컨텍스트 메뉴가 표시될 떄                 |
|     | dbclick           | 더블클릭했을 때                       |
|     | mousedown         | 마우스 버튼을 눌렀을 때                  |
|     | mouseenter        | 마우스 포인터가 요소에 들어갔을 때(자체 요소만 해당) |
|     | mouseleave        | 마우스 포인터가 요소를 벗어났을 때(자체 요소만 해당) |
|     | mousemove         | 마우스 포인터가 움직일 때                 |
|     | mouseout          | 마우스 포인터가 요소를 벗어났을 때(자식 요소 포함)  |
|     | mouseover         | 마우스 포인터가 요소를 들어갔을 때(자식 요소 포함)  |
|     | mouseup           | 마우스 버튼을 놓았을 때                  |
|     | wheel             | 마우스 휠이 회전할 때                   |
|     |                   |                                |
| 입력  | change            | 드랍다운 등으로 입력 내용이 변경되었을 때        |
|     | compositioned     | IME를 사용하여 입력을 종료할 때            |
|     | compositionstart  | IME를 사용하여 입력을 시작할 때            |
|     | compositionupdate | IME를 사용하여 입력 중일 때              |
|     | input             | 입력 내용이 업데이트 될 때                |
|     | keydown           | 키를 눌렀을 때                       |
|     | keypress          | 키를 눌러 문자가 입력될 때                |
|     | keyup             | 키를 놓았을 때                       |
|     | select            | 텍스트가 선택되었을 때                   |
|     |                   |                                |
| 기타  | resize            | 요소의 크기가 변경되었을 때                |
|     | scroll            | 스크롤 할 때                        |
|     |                   |                                |
##### 2) 이벤트 객체를 메서드 인자로 받기

v-on 디렉티브에 대응하는 이벤트 핸들러 메서드는 이벤트 객체를 인자로 받을 수 있다.

```vue

<template>
  <section>
    <img src="./assets/logo.svg" alt="Vue" width="200" v-on:mousemove="onImgMousemove" />
    <p>포인터 위치: x={{ mousePointerX }}; y={{ mousePointerY }}</p>
  </section>
</template>

<script setup lang="ts">
import { ref, computed } from 'vue'

const mousePointerX = ref(0)
const mousePointerY = ref(0)
const onImgMousemove = (event: MouseEvent): void => {
  mousePointerX.value = event.offsetX
  mousePointerY.value = event.offsetY
}
</script>

<style scoped></style>

```


##### 3) 이벤트 객체 이외의 인자를 받는 이벤트 핸들러 메서드

메서드명과 함께 (`'red')`와 같이 괄호와 인자도 같이 작성하면 이벤트 핸들러 메서드에 값을 전달할 수 있다.

```vue

<template>
  <p v-on:click="onPClick('red')" v-bind:style="{ backgroundColor: pBgColor }">
    여기를 클릭하면 배경색이 변합니다.
  </p>
</template>

<script setup lang="ts">
import { ref, computed } from 'vue'

const pBgColor = ref('white')
const onPClick = (bgColor: string): void => {
  pBgColor.value = bgColor
}
</script>

<style scoped></style>

```

##### 4) 이벤트 객체와 다른 인자를 함께 사용하는 이벤트 핸들러 메서드
`$event`!!


```
v-on:click="onPClickWithEvent('green', $event)"
```

```vue

<template>
  <p
    v-on:click="onPClickWithEvent('green', $event)"
    v-bind:style="{ backgroundColor: pBgColorEvent }"
  >
    {{ pMsg }}
  </p>
</template>

<script setup lang="ts">
import { ref, computed } from 'vue'

const pMsg = ref('이벤트 전 (클릭해주세요!)')
const pBgColorEvent = ref('white')

const onPClickWithEvent = (bgColor: string, event: MouseEvent): void => {
  pBgColorEvent.value = bgColor
  pMsg.value = event.timeStamp.toString()
}
</script>

<style scoped></style>
```

##### <mark style="background: #FFF3A3A6;">5) v-on 수식어</mark>

| 수식어     | 내용                                        |
| ------- | ----------------------------------------- |
| stop    | 이벤트 버블링 취소(event.stopPropagation()과 동일)   |
| capture | 이벤트 리스너를 캡처 모드로 설정                        |
| self    | 이 요소에서 이벤트가 발생했을 때만 이벤트를 싱행               |
| prevent | 이벤트의 기본 처리 취소(event.preventDefault()와 동일) |
| passive | 해당 이벤트의 기본 동작을 즉시 실행                      |
| once    | 이벤트 실행을 1회로 제한                            |

**DOM 이벤트 단계**

```html

<html>

</html>

```
